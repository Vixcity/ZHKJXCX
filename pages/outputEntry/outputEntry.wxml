<!--pages/outputEntry/outputEntry.wxml-->
<view class="bg borderBox pt10 submit overfh">
	<order-card detailInfo="{{cardOrder}}" enterPricce="{{process_price_all}}" showEnterPrice="{{true}}"></order-card>
	<view class="ml20 mr20 mt20 bgColorWhite vw90 jcsb flexWarp borderRadius16 shadow borderBox pl10 pr10 pt10 pb10 colorBlack por overfh">
		<t-tabs value="{{0}}" bind:change="onTabsChange">
			<t-tab-panel label="按尺码颜色" value="0">
				<view class="mt10">
					生产人员：
					<text wx:if="{{showChoose}}" class="ml20 {{selectedPeopleLabel===''?'color91':'colorBlack'}}" bindtap="openPick">{{selectedPeopleLabel===''?'选择员工':selectedPeopleLabel}}</text>
					<text wx:else class="ml20">{{userName}}</text>
				</view>
				<view wx:for="{{product_info}}" wx:for-item="item" wx:for-index="index" wx:key="item">
					<view class="bgColorF3 pt10 vw100 mt20 mb20"></view>
					<view class="flex fz30">
						<view class="w30">尺码颜色</view>
						<view class="w70">{{item.size.size_name}} / {{item.color.color_name}}</view>
					</view>
					<view class="line"></view>
					<view class="flex fz30">
						<view class="w30">产量</view>
						<view class="w50">
							<input type="number" bindinput="getInputNumber" data-index="{{index}}" value="{{item.value}}" placeholder="差额 {{item.number - item.real_number}}" />
						</view>
						<view class="w20">{{item.sizeColorPrice || process_price}}元</view>
					</view>
				</view>
			</t-tab-panel>
			<t-tab-panel label="自由录入" value="1">
				<view class="mt10">
					生产人员：
					<text wx:if="{{showChoose}}" class="ml20 {{selectedPeopleLabel===''?'color91':'colorBlack'}}" bindtap="openPick">{{selectedPeopleLabel===''?'选择员工':selectedPeopleLabel}}</text>
					<text wx:else class="ml20">{{userName}}</text>
					<view class="bgColorF3 pt10 vw100 mt20 mb20"></view>
					<view class="flex fz30">
						<view class="w30">产量</view>
						<view class="w50">
							<input type="number" bindinput="getEnteryAllNumber" data-index="{{index}}" value="{{enteryAllNumber}}" placeholder="差额 {{allNumber - allRealNumber}}" />
						</view>
						<view class="w20">{{process_price_all}}元</view>
					</view>
				</view>
			</t-tab-panel>
		</t-tabs>
	</view>
	<view class="vw100 mt20 mb20">
		<t-button theme="primary" size="large" variant="plain" bindtap="commitEntry">提交</t-button>
	</view>
	<t-picker visible="{{choosePeople}}" title="请选择员工" bindconfirm="confirmPick" bindcancel="closePick">
		<t-picker-column options="{{people}}" value="{{selectedPeopleValue}}"></t-picker-column>
	</t-picker>

	<t-message id="t-message" />
</view>